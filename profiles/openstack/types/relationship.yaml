tosca_definitions_version: tosca_simple_yaml_1_3

relationship_types:

  # Not working properly yet
  openstack.relationships.ComputeToSecurityGroup:
    derived_from: tosca.relationships.DependsOn
    interfaces:
      Configure:
        operations:
          pre_configure_source:
            inputs:
              security_group:
                value: { get_property: [ TARGET, name ] }
                type: string
              security_groups:
                value: { get_attribute: [ SOURCE, security_groups ] }
                type: list
            outputs:
              new_security_groups: [ SOURCE, security_groups ]
            implementation: ../ansible/compute-to-security-group--preconfigure-source.yaml
